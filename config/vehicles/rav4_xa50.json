{
  "vehicle": {
    "name": "2019 Toyota RAV4 XA50",
    "alias": "Raven",
    "years": "2019-2024",
    "engine": "A25A-FKS 2.5L I4",
    "transmission": "UA80E/F Direct Shift 8-speed",
    "protocol": "ISO 15765-4 CAN 11/500",
    "notes": "5th generation RAV4. Non-hybrid gas model. Hybrid (XA50H) may differ on ECU addresses."
  },
  "ecus": {
    "engine":       { "header": "7E0", "response": "7E8", "name": "Engine Control Module" },
    "transmission": { "header": "7E1", "response": "7E9", "name": "Transmission Control Module" },
    "abs":          { "header": "7E2", "response": "7EA", "name": "ABS/VSC Module" },
    "body":         { "header": "750", "response": "758", "name": "Body Control Module" }
  },
  "pids": {
    "coolant_temp": {
      "name": "Coolant Temperature",
      "mode": "01",
      "pid": "05",
      "header": "7E0",
      "bytes": 2,
      "formula": "A - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": ["status", "health"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "rpm": {
      "name": "Engine RPM",
      "mode": "01",
      "pid": "0C",
      "header": "7E0",
      "bytes": 4,
      "formula": "(A * 256 + B) / 4",
      "unit": "rpm",
      "min": 0,
      "max": 16384,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "vehicle_speed": {
      "name": "Vehicle Speed",
      "mode": "01",
      "pid": "0D",
      "header": "7E0",
      "bytes": 2,
      "formula": "A",
      "unit": "km/h",
      "min": 0,
      "max": 255,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "intake_air_temp": {
      "name": "Intake Air Temperature",
      "mode": "01",
      "pid": "0F",
      "header": "7E0",
      "bytes": 2,
      "formula": "A - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": ["health"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "throttle_pos": {
      "name": "Throttle Position",
      "mode": "01",
      "pid": "11",
      "header": "7E0",
      "bytes": 2,
      "formula": "(A * 100) / 255",
      "unit": "%",
      "min": 0,
      "max": 100,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "fuel_level": {
      "name": "Fuel Tank Level",
      "mode": "01",
      "pid": "2F",
      "header": "7E0",
      "bytes": 2,
      "formula": "(A * 100) / 255",
      "unit": "%",
      "min": 0,
      "max": 100,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "ambient_temp": {
      "name": "Ambient Air Temperature",
      "mode": "01",
      "pid": "46",
      "header": "7E0",
      "bytes": 2,
      "formula": "A - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": ["health"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "engine_load": {
      "name": "Calculated Engine Load",
      "mode": "01",
      "pid": "04",
      "header": "7E0",
      "bytes": 2,
      "formula": "(A * 100) / 255",
      "unit": "%",
      "min": 0,
      "max": 100,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "timing_advance": {
      "name": "Timing Advance",
      "mode": "01",
      "pid": "0E",
      "header": "7E0",
      "bytes": 2,
      "formula": "(A / 2) - 64",
      "unit": "° before TDC",
      "min": -64,
      "max": 63.5,
      "group": ["status"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "control_module_voltage": {
      "name": "Control Module Voltage",
      "mode": "01",
      "pid": "42",
      "header": "7E0",
      "bytes": 4,
      "formula": "(A * 256 + B) / 1000",
      "unit": "V",
      "min": 0,
      "max": 65.535,
      "group": ["health"],
      "confidence": "standard",
      "source": "SAE J1979"
    },
    "trans_temp": {
      "name": "Transmission Fluid Temperature",
      "mode": "22",
      "pid": "2301",
      "header": "7E1",
      "bytes": 4,
      "formula": "(A * 256 + B) / 10 - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": ["health"],
      "confidence": "unverified",
      "source": "Torque Pro database, PriusChat. Mode 22 to transmission ECU."
    },
    "trans_temp_alt": {
      "name": "Transmission Temp (Alt Mode 21)",
      "mode": "21",
      "pid": "0105",
      "header": "7E0",
      "bytes": 4,
      "formula": "(A * 256 + B) / 10 - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": [],
      "confidence": "unverified",
      "source": "Alternative addressing via engine ECU. May duplicate trans_temp."
    },
    "oil_temp": {
      "name": "Engine Oil Temperature",
      "mode": "22",
      "pid": "012F",
      "header": "7E0",
      "bytes": 4,
      "formula": "A - 40",
      "unit": "°C",
      "min": -40,
      "max": 215,
      "group": ["health"],
      "confidence": "unverified",
      "source": "obdsoftware.net Toyota enhanced parameters. Formula uncertain."
    },
    "wheel_speed_fl": {
      "name": "Wheel Speed — Front Left",
      "mode": "22",
      "pid": "010F",
      "header": "7E2",
      "bytes": 4,
      "formula": "(A * 256 + B) / 4",
      "unit": "km/h",
      "min": 0,
      "max": 255,
      "group": ["wheels"],
      "confidence": "unverified",
      "source": "obdsoftware.net Toyota enhanced parameters via ABS ECU."
    },
    "wheel_speed_fr": {
      "name": "Wheel Speed — Front Right",
      "mode": "22",
      "pid": "0110",
      "header": "7E2",
      "bytes": 4,
      "formula": "(A * 256 + B) / 4",
      "unit": "km/h",
      "min": 0,
      "max": 255,
      "group": ["wheels"],
      "confidence": "unverified",
      "source": "obdsoftware.net Toyota enhanced parameters via ABS ECU."
    },
    "wheel_speed_rl": {
      "name": "Wheel Speed — Rear Left",
      "mode": "22",
      "pid": "0111",
      "header": "7E2",
      "bytes": 4,
      "formula": "(A * 256 + B) / 4",
      "unit": "km/h",
      "min": 0,
      "max": 255,
      "group": ["wheels"],
      "confidence": "unverified",
      "source": "obdsoftware.net Toyota enhanced parameters via ABS ECU."
    },
    "wheel_speed_rr": {
      "name": "Wheel Speed — Rear Right",
      "mode": "22",
      "pid": "0112",
      "header": "7E2",
      "bytes": 4,
      "formula": "(A * 256 + B) / 4",
      "unit": "km/h",
      "min": 0,
      "max": 255,
      "group": ["wheels"],
      "confidence": "unverified",
      "source": "obdsoftware.net Toyota enhanced parameters via ABS ECU."
    },
    "tpms_fl": {
      "name": "Tire Pressure — Front Left",
      "mode": "21",
      "pid": "0081",
      "header": "750",
      "bytes": 0,
      "formula": "UNKNOWN",
      "unit": "kPa",
      "min": 0,
      "max": 500,
      "group": ["tires"],
      "confidence": "speculative",
      "source": "Aggregated from multiple forums. CAN address, mode, PID, and formula all unconfirmed for XA50. Needs discovery scan."
    },
    "tpms_fr": {
      "name": "Tire Pressure — Front Right",
      "mode": "21",
      "pid": "0082",
      "header": "750",
      "bytes": 0,
      "formula": "UNKNOWN",
      "unit": "kPa",
      "min": 0,
      "max": 500,
      "group": ["tires"],
      "confidence": "speculative",
      "source": "Speculative. Needs discovery scan."
    },
    "tpms_rl": {
      "name": "Tire Pressure — Rear Left",
      "mode": "21",
      "pid": "0083",
      "header": "750",
      "bytes": 0,
      "formula": "UNKNOWN",
      "unit": "kPa",
      "min": 0,
      "max": 500,
      "group": ["tires"],
      "confidence": "speculative",
      "source": "Speculative. Needs discovery scan."
    },
    "tpms_rr": {
      "name": "Tire Pressure — Rear Right",
      "mode": "21",
      "pid": "0084",
      "header": "750",
      "bytes": 0,
      "formula": "UNKNOWN",
      "unit": "kPa",
      "min": 0,
      "max": 500,
      "group": ["tires"],
      "confidence": "speculative",
      "source": "Speculative. Needs discovery scan."
    }
  },
  "groups": {
    "status":  { "name": "Vehicle Status",  "description": "Basic vitals — RPM, speed, coolant, throttle, fuel" },
    "health":  { "name": "Vehicle Health",   "description": "Temperatures and voltages — is Raven happy?" },
    "wheels":  { "name": "Wheel Speeds",     "description": "Individual wheel speed sensors via ABS ECU" },
    "tires":   { "name": "Tire Pressures",   "description": "TPMS sensor data — speculative until validated" }
  },
  "scan_ranges": {
    "_comment": "PID ranges to iterate during discovery scan per ECU",
    "7E0": { "modes": ["01", "21", "22"], "pid_range": ["0100", "01FF"] },
    "7E1": { "modes": ["21", "22"], "pid_range": ["0100", "2FFF"] },
    "7E2": { "modes": ["21", "22"], "pid_range": ["0100", "01FF"] },
    "750": { "modes": ["21", "22"], "pid_range": ["0080", "00FF"] }
  }
}
